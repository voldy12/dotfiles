#!/usr/bin/env bash
curl -s https://api.github.com/repos/$1/releases/latest | grep -E "$2" | grep -v "$3" | grep -o \"https://.*\" | xargs curl -fLJO 
filename=$(curl -s https://api.github.com/repos/$1/releases/latest | grep -E "$2" | grep -v "$3" | grep -o \"https://.*\" | sed -e 's/^"//' -e 's/"$//'|cut -d/ -f9-  )

if [ -f $filename ] ; then
      case $2 in
          *.tar.bz2)   tar xvjf $filename   ;;
          *.tar.gz)    tar xvzf $filename    ;;
          *.bz2)       bunzip2 $filename     ;;
          *.deb)       sudo dpkg -i $filename && rm -f $filename       ;;
          *.Appimage)       mv $filename ~/bin/        ;;
          *)           echo "don't know '$filename'..." ;;
      esac
  else
      echo "'$2' is not a valid file!"
  fi
